# Aiofix IAM é¡¹ç›®è®¾ç½®æ€»ç»“

## ğŸ‰ é¡¹ç›®è®¾ç½®å®Œæˆæƒ…å†µ

### âœ… å·²å®Œæˆçš„åŸºç¡€è®¾æ–½

#### 1. é¡¹ç›®åŸºç¡€ç»“æ„

- âœ… **é¡¹ç›®åˆå§‹åŒ–**: åˆ›å»ºäº†å®Œæ•´çš„NestJSé¡¹ç›®ç»“æ„
- âœ… **ç›®å½•æ¶æ„**: æŒ‰ç…§DDDå’ŒClean ArchitectureåŸåˆ™åˆ›å»ºäº†12ä¸ªä¸»è¦æ¨¡å—
- âœ… **ä»£ç ç»„ç»‡**: å®ç°äº†åˆ†å±‚æ¶æ„ï¼ˆPresentationã€Applicationã€Domainã€Infrastructureï¼‰

#### 2. é…ç½®ç®¡ç†æ¨¡å—

- âœ… **é…ç½®æ¨¡å—é€‚é…**: æˆåŠŸé€‚é…äº†`@aiofix/config`åº“
- âœ… **é…ç½®é›†æˆ**: é›†æˆåˆ°APIé¡¹ç›®ä¸­å¹¶æµ‹è¯•é€šè¿‡
- âœ… **é…ç½®éªŒè¯**: æ‰€æœ‰é…ç½®æ¨¡å—ï¼ˆappã€databaseã€redisã€jwtã€emailã€loggingã€settingï¼‰æ­£å¸¸å·¥ä½œ

#### 3. æ—¥å¿—ç®¡ç†æ¨¡å—

- âœ… **Pinoæ—¥å¿—æœåŠ¡**: å®ç°äº†é«˜æ€§èƒ½çš„æ—¥å¿—æœåŠ¡
- âœ… **æ—¥å¿—ä¸­é—´ä»¶**: è‡ªåŠ¨è®°å½•HTTPè¯·æ±‚å’Œå“åº”
- âœ… **æ—¥å¿—æ‹¦æˆªå™¨**: è®°å½•æ–¹æ³•è°ƒç”¨å’Œæ€§èƒ½æŒ‡æ ‡
- âœ… **å¤šç§Ÿæˆ·æ”¯æŒ**: æ”¯æŒç§Ÿæˆ·éš”ç¦»çš„æ—¥å¿—è®°å½•

#### 4. å¼€å‘ç¯å¢ƒé…ç½®

- âœ… **Dockerç¯å¢ƒ**: åˆ›å»ºäº†å®Œæ•´çš„Docker Composeé…ç½®
- âœ… **æ•°æ®åº“æœåŠ¡**: PostgreSQLã€Redisã€MongoDBå®¹å™¨åŒ–é…ç½®
- âœ… **ç®¡ç†ç•Œé¢**: pgAdminå’ŒRedis Commanderç®¡ç†å·¥å…·
- âœ… **è‡ªåŠ¨åŒ–è„šæœ¬**: å¼€å‘ç¯å¢ƒè®¾ç½®è„šæœ¬
- âœ… **åˆå§‹åŒ–è„šæœ¬**: æ•°æ®åº“å’Œäº‹ä»¶å­˜å‚¨åˆå§‹åŒ–

### ğŸ“Š é¡¹ç›®è¿›åº¦æ¦‚è§ˆ

- **ç¬¬ä¸€é˜¶æ®µ**: åŸºç¡€è®¾æ–½æ­å»º - 6/15 ä»»åŠ¡å®Œæˆ (40%)
- **æ€»ä½“è¿›åº¦**: 6/85 ä»»åŠ¡å®Œæˆ (7.1%)

### ğŸ—ï¸ å½“å‰é¡¹ç›®ç»“æ„

```
aiofix-iam/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ api/                          # APIåº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ shared/              # å…±äº«æ¨¡å—
â”‚       â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚       â”‚   â”‚       â””â”€â”€ logging/     # æ—¥å¿—æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ iam/                 # IAMé¢†åŸŸæ¨¡å—
â”‚       â”‚   â”œâ”€â”€ app.module.ts        # æ ¹æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ main.ts              # åº”ç”¨å…¥å£
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ libs/
â”‚   â””â”€â”€ config/                      # é…ç½®åº“
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ lib/
â”‚       â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ¨¡å—
â”‚       â”‚   â”‚   â”œâ”€â”€ config.service.ts
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”œâ”€â”€ dist/                    # æ„å»ºè¾“å‡º
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ docs/                            # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/               # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ business-requirements/      # ä¸šåŠ¡éœ€æ±‚
â”‚   â””â”€â”€ development-task-checklist.md
â”œâ”€â”€ docker/                         # Dockeré…ç½®
â”‚   â”œâ”€â”€ postgres/init/              # PostgreSQLåˆå§‹åŒ–
â”‚   â””â”€â”€ mongodb/init/               # MongoDBåˆå§‹åŒ–
â”œâ”€â”€ scripts/                        # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â””â”€â”€ dev-setup.sh               # å¼€å‘ç¯å¢ƒè®¾ç½®
â”œâ”€â”€ docker-compose.yml             # Docker Composeé…ç½®
â”œâ”€â”€ env.development               # å¼€å‘ç¯å¢ƒå˜é‡
â””â”€â”€ README-DEV-SETUP.md           # å¼€å‘ç¯å¢ƒæŒ‡å—
```

### ğŸ› ï¸ å¯ç”¨çš„æœåŠ¡

#### æ•°æ®åº“æœåŠ¡

- **PostgreSQL**: `localhost:5432` (ä¸»æ•°æ®åº“)
- **Redis**: `localhost:6379` (ç¼“å­˜æœåŠ¡)
- **MongoDB**: `localhost:27017` (äº‹ä»¶å­˜å‚¨)

#### ç®¡ç†ç•Œé¢

- **pgAdmin**: http://localhost:8080 (æ•°æ®åº“ç®¡ç†)
- **Redis Commander**: http://localhost:8081 (Redisç®¡ç†)

#### APIæœåŠ¡

- **APIæœåŠ¡**: http://localhost:3000
- **APIæ–‡æ¡£**: http://localhost:3000/api/v1/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:3000/api/v1/health
- **é…ç½®æµ‹è¯•**: http://localhost:3000/api/v1/test-config

### ğŸ”§ å¼€å‘å·¥å…·

#### è‡ªåŠ¨åŒ–è„šæœ¬

```bash
# ä¸€é”®è®¾ç½®å¼€å‘ç¯å¢ƒ
./scripts/dev-setup.sh

# å¯åŠ¨DockeræœåŠ¡
docker-compose up -d

# å¯åŠ¨APIå¼€å‘æœåŠ¡å™¨
cd apps/api && pnpm run start:dev
```

#### å¸¸ç”¨å‘½ä»¤

```bash
# æ„å»ºé¡¹ç›®
pnpm run build

# è¿è¡Œæµ‹è¯•
pnpm run test

# ä»£ç æ£€æŸ¥
pnpm run lint

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f
```

### ğŸ“š æ–‡æ¡£èµ„æº

- [å¼€å‘ç¯å¢ƒè®¾ç½®æŒ‡å—](development-environment-guide.md)
- [Dockerè®¾ç½®æŒ‡å—](docker-setup-guide.md)
- [é¡¹ç›®æ¶æ„æ–‡æ¡£](../architecture/)
- [å¼€å‘ä»»åŠ¡æ¸…å•](../development-task-checklist.md)
- [ç¼“å­˜è®¾è®¡æ–‡æ¡£](../architecture/tech-stack/cache-management-design.md)
- [æ—¥å¿—è®¾è®¡æ–‡æ¡£](../architecture/tech-stack/logging-management-design.md)

### ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

#### é«˜ä¼˜å…ˆçº§ä»»åŠ¡

1. **å®ç°Redisç¼“å­˜æœåŠ¡** - åŸºäºç¼“å­˜è®¾è®¡æ–‡æ¡£
2. **å®ç°æ•°æ®åº“é€‚é…å™¨** - MikroORMé…ç½®å’Œè¿æ¥
3. **å®ç°ç¼“å­˜ç®¡ç†æ¨¡å—** - ç¼“å­˜è£…é¥°å™¨å’Œæ‹¦æˆªå™¨

#### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒé¢†åŸŸå¼€å‘

- äº‹ä»¶æº¯æºæ¶æ„
- CQRSå®ç°
- é¢†åŸŸæ¨¡å‹è®¾è®¡
- èšåˆæ ¹å®ç°

### ğŸ” æŠ€æœ¯æ ˆæ¦‚è§ˆ

- **åç«¯æ¡†æ¶**: NestJS + TypeScript
- **æ•°æ®åº“**: PostgreSQL (ä¸»æ•°æ®åº“) + MongoDB (äº‹ä»¶å­˜å‚¨)
- **ç¼“å­˜**: Redis
- **ORM**: MikroORM
- **æ—¥å¿—**: Pino
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åŒ…ç®¡ç†**: pnpm
- **æ¶æ„æ¨¡å¼**: DDD + Clean Architecture + CQRS + Event Sourcing

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å¯ç”¨Docker Desktop WSLé›†æˆ**
2. **è¿è¡Œè‡ªåŠ¨åŒ–è®¾ç½®**: `./scripts/dev-setup.sh`
3. **å¯åŠ¨APIæœåŠ¡**: `cd apps/api && pnpm run start:dev`
4. **è®¿é—®APIæ–‡æ¡£**: http://localhost:3000/api/v1/docs

---

**é¡¹ç›®çŠ¶æ€**: ğŸŸ¢ åŸºç¡€è®¾æ–½æ­å»ºå®Œæˆï¼Œå‡†å¤‡è¿›å…¥æ ¸å¿ƒé¢†åŸŸå¼€å‘é˜¶æ®µ
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ
**ç‰ˆæœ¬**: v1.0.0
